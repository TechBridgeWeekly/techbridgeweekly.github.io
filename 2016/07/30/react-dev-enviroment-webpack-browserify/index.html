<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <title>一看就懂的 React 開發環境建置與 Webpack 入門教學 | TechBridge 技術共筆部落格</title>
  <meta name="description" content="TechBridge Weekly 技術週刊團隊是一群對用技術改變世界懷抱熱情的團隊。本技術共筆部落格初期專注於Web前後端、行動網路、機器人/物聯網、數據分析與產品設計等技術分享" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- google-site-verification -->
  <meta name="google-site-verification" content="WX_9sZlrIYOEpy8RR7zCoa7-pJk611zZt11BSBUcDVY" />
  <link rel="stylesheet preload" type="text/css" href="/css/screen.css" as="style" />
  <link rel="stylesheet preload" type="text/css" href="//fonts.googleapis.com/css?family=Noto+Serif:400,700,400italic|Open+Sans:700,400" as="style" />

  <!-- Favicons -->
  <link rel="apple-touch-icon" href="/img/favicon.ico">
  <link rel="icon preload" href="/img/favicon.ico" as="image">

  
  
  <link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="atom.xml">
  
  

  
</head>


<body class="post-template">

  <header class="site-head" >
    <div class="vertical">
        <div class="site-head-content inner">
             <a class="blog-logo" href="/"><img src="/img/logo-tb-500-500.png" alt="Blog Logo"/></a> 
            <h1 class="blog-title">TechBridge 技術共筆部落格</h1>
            <h2 class="blog-description">var topics = ['Web前後端', '行動網路', '機器人/物聯網', '數據分析', '產品設計', 'etc.']</h2>
            <div class="navbar-block">
                <span><a href="/">首頁</a></span> / <span><a href="/about/">關於我們</a></span> / <span><a href="http://weekly.techbridge.cc/" target="_blank">技術週刊</a></span> / <span><a href="https://www.facebook.com/techbridge.cc/" target="_blank">粉絲專頁</a></span> / <span><a href="/atom.xml" target="_blank">訂閱RSS </a></span>
                <br>
            </div>
        </div>
    </div>
</header>
  

<main class="content" role="main">
  <article class="post">
    <span class="post-meta">
      <time datetime="2016-07-30T23:26:00.000Z" itemprop="datePublished">
          2016-07-30
      </time>
    
    
    | 
    <a href='/tags/React-React-Native-ES5-ES6-ES7-JavaScript-ECMAScript2015-Webpack-Browserify-CommonJS-UMD-ES6-Module-CMD/'>React, React Native, ES5, ES6, ES7, JavaScript, ECMAScript2015, Webpack, Browserify, CommonJS, UMD, ES6 Module, CMD</a>
    
    
</span>

<meta name="generator" content="一看就懂的 React 開發環境建置與 Webpack 入門教學">
<meta name="og:title" content="一看就懂的 React 開發環境建置與 Webpack 入門教學">
<meta name="og:description" content="TechBridge Weekly 技術週刊團隊是一群對用技術改變世界懷抱熱情的團隊。本技術共筆部落格初期專注於Web前後端、行動網路、機器人/物聯網、數據分析與產品設計等技術分享。">
<meta name="og:type" content="website">
<meta name="og:image" content="/img/og-cover.png">

    <h1 class="post-title">一看就懂的 React 開發環境建置與 Webpack 入門教學</h1>
    <section class="post-content">
      <div class="fb-like" data-href="https://www.facebook.com/techbridge.cc" data-layout="button_count" data-action="like" data-size="large" data-show-faces="false" data-share="true"></div>   
      <hr>
      <p><img src="/img/kdchang/react-webpack-browserify.png" alt="一看就懂的 React 開發環境建置與 Webpack 入門教學" title="一看就懂的 React 開發環境建置與 Webpack 入門教學"></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>俗話說工欲善其事，必先利其器。寫程式也是一樣，搭建好開發環境後可以讓自己在後續開發上更加順利。因此本篇接下來將討論 React 開發環境的三種主要方式：CDN-based、<a target="_blank" rel="noopener" href="https://webpack.github.io/">browserify</a> 和 <a target="_blank" rel="noopener" href="https://webpack.github.io/">webpack</a>（這邊我們就先不討論 <a target="_blank" rel="noopener" href="https://www.typescriptlang.org/">TypeScript</a> 的開發方式），讓讀者閱讀完本章後可以開始 React 開發之旅！</p>
<h1 id="JavaScript-模組化"><a href="#JavaScript-模組化" class="headerlink" title="JavaScript 模組化"></a>JavaScript 模組化</h1><p>隨著網站開發的複雜度提昇，許多現代化的網站已不是單純的網站而已，更像是個富有互動性的網頁應用程式（Web App）。為了應付現代化網頁應用程式開發的需求，解決一些像是全域變數污染、低維護性等問題，JavaScript 在模組化上也有長足的發展。過去一段時間讀者們或許聽過像是 <code>Webpack</code>、<code>Browserify</code>、<code>module bundlers</code>、<code>AMD</code>、<code>CommonJS</code>、<code>UMD</code>、<code>ES6 Module</code> 等有關 JavaScript 模組化開發的專有名詞或工具。若是讀者對於 JavaScript 模組化開發尚不熟悉的話推薦可以參考<a target="_blank" rel="noopener" href="http://huangxuan.me/2015/07/09/js-module-7day/">這篇文章</a> 和 <a target="_blank" rel="noopener" href="https://medium.freecodecamp.com/javascript-modules-a-beginner-s-guide-783f7d7a5fcc#.oa2n5s5zt">這篇文章</a>，當作入門。筆者之後也會有相關文章針對 JavaScript 模組化議題做討論。因為限於篇幅，這邊我們會專注在 <code>React</code> 開發環境的三種主要方式介紹。</p>
<p>總的來說，使用模組化開發 JavaScript 應用程式主要有以下三種好處：</p>
<ol>
<li>提昇維護性（Maintainability）</li>
<li>命名空間（Namespacing）</li>
<li>提供可重用性（Reusability）</li>
</ol>
<p>而在 React 應用程式開發上更推薦使用像是 <code>Webpack</code> 這樣的 <code>module bundlers</code> 來組織我們的應用程式，但對於一般讀者來說 <code>Webpack</code> 強大而完整的功能相對複雜。為了讓讀者先熟悉 <code>React</code> 核心觀念（我們假設讀者已經有使用 <code>JavaScript</code> 或 <code>jQuery</code> 的基本經驗），我們將從使用 <code>CDN</code> 引入 <code>&lt;script&gt;</code> 的方式開始介紹：</p>
<h1 id="CDN-based"><a href="#CDN-based" class="headerlink" title="CDN-based"></a>CDN-based</h1><p><img src="/img/kdchang/react.png" alt="一看就懂的 React 開發環境建置與 Webpack 入門教學" title="一看就懂的 React 開發環境建置與 Webpack 入門教學"><br>使用 CDN-based 的開發方式缺點是較難維護我們的程式碼（當引入函式庫一多就會有很多 <code>&lt;script/&gt;</code>）且會容易遇到版本相容性問題，不太適合開發大型應用程式，但因為簡單易懂，適合教學上使用。</p>
<p>以下是 React <a target="_blank" rel="noopener" href="https://facebook.github.io/react/index.html">官方首頁的範例</a>，以下使用 <code>React v15.2.1</code>：<br>0. 理解 <code>React</code> 是 <code>Component</code> 導向的應用程式設計</p>
<ol>
<li>引入 <code>react.js</code>、<code>react-dom.js</code>（react 0.14 後將 react-dom 從 react 核心分離，更符合 react 跨平台抽象化的定位）以及 <code>babel-core-browser</code> 版 script（可以想成 <code>babel</code> 是翻譯機，翻譯瀏覽器看不懂的 <code>JSX</code> 或 <code>ES6+</code> 語法成為瀏覽器看的懂得的 <code>JavaScript</code>）。事實上，JSX 並非一種全新的語言，而是一種語法糖（Syntatic Sugar），一種語法類似 XML 的 ECMAScript 語法擴充。若讀者不熟悉的話可以參考筆者另一篇文章：<a href="http://blog.techbridge.cc/2016/04/21/react-jsx-introduction/">一看就懂的 JSX 簡明入門教學指南</a></li>
<li>在 <code>&lt;body&gt;</code> 撰寫 React Component 要插入（mount）的地方：<code>&lt;div id=&quot;example&quot;&gt;&lt;/div&gt;</code></li>
<li>透過 <code>babel</code> 進行語言翻譯 <code>React JSX</code> 語法，<code>babel</code> 會將其轉為瀏覽器看的懂得 <code>JavaScript</code>。其代表意義是：<code>ReactDOM.render(欲 render 的 Component 或 HTML 元素, 欲插入的位置)</code>。所以我們可以在瀏覽器上打開我們的 <code>hello.html</code>，就可以看到 <code>Hello, world!</code> 。That’s it，我們第一個 <code>React</code> 應用程式就算完成了！</li>
</ol>
<figure class="highlight html"><figcaption><span>hello.html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Hello React!<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 以下引入 react.js, react-dom.js（react 0.14 後將 react-dom 從 react 核心分離，更符合 react 跨平台抽象化的定位）以及 babel-core browser 版 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdnjs.cloudflare.com/ajax/libs/react/15.2.1/react.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdnjs.cloudflare.com/ajax/libs/react/15.2.1/react-dom.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.34/browser.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 這邊的 id=&quot;example&quot; 的 &lt;div&gt; 為 React Component 要插入的地方 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;example&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 以下就是包在 babel（透過進行語言翻譯）中的 React JSX 語法，babel 會將其轉為瀏覽器看的懂得 JavaScript --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/babel&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(</span></span><br><span class="line"><span class="language-javascript">        <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, world!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;example&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">      );</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>在瀏覽器瀏覽最後成果：</p>
<p><img src="/img/kdchang/hello-world.png" alt="一看就懂的 React 開發環境建置與 Webpack 入門教學" title="一看就懂的 React 開發環境建置與 Webpack 入門教學"></p>
<h1 id="Browserify-Gulp-Babelify"><a href="#Browserify-Gulp-Babelify" class="headerlink" title="Browserify + Gulp + Babelify"></a>Browserify + Gulp + Babelify</h1><p><img src="/img/kdchang/react-browserify-gulp.png" alt="一看就懂的 React 開發環境建置與 Webpack 入門教學" title="一看就懂的 React 開發環境建置與 Webpack 入門教學"><br>在進入第二種方法前，首先先介紹一下會用到 <a target="_blank" rel="noopener" href="http://browserify.org/">Browserify</a>、<a target="_blank" rel="noopener" href="http://gulpjs.com/">Gulp</a>、<a target="_blank" rel="noopener" href="https://github.com/babel/babelify">Babelify</a> 三種前端開發常會用到的工具：</p>
<p><a target="_blank" rel="noopener" href="http://browserify.org/">Browserify</a></p>
<ul>
<li>如同官網上說明的：<code>Browserify lets you require(&#39;modules&#39;) in the browser by bundling up all of your dependencies. </code>，Browserify 是一個可以讓你在瀏覽器端也能使用像 Node 用的 <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/CommonJS">CommonJS</a> 規範一樣，用輸出（export）和引用（require）來管理模組。此外，也能使用許多在 NPM 中的模組</li>
</ul>
<p><a target="_blank" rel="noopener" href="http://gulpjs.com/">Gulp</a></p>
<ul>
<li><code>Gulp</code> 是一個前端任務工具自動化管理工具。隨著前端工程的發展（Task Runner），我們在開發前端應用程式時有許多工作是必須重複進行，例如：打包文件、uglify、將 LESS 轉譯成一般的 CSS 的檔案，轉譯 ES6 語法等工作。若是使用一般手動的方式，往往會造成效率的低下，所以透過像是 <a target="_blank" rel="noopener" href="http://gruntjs.com/">Grunt</a>、Gulp 這類的 Task Runner 不但可以提昇效率，也可以更方便管理這些任務。由於 Gulp 是透過 pipeline 方式來處理檔案，在使用上比起 Grunt 的方式直觀許多，所以這邊我們主要討論的是 Gulp</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://github.com/babel/babelify">Babelify</a></p>
<ul>
<li><code>Babelify</code> 是一個使用 Browserify 進行 Babel 轉換的外掛，你可以想成是一個翻譯機，可以將 React 中的 <code>JSX</code> 或 <code>ES6</code> 語法轉成瀏覽器相容的 <code>ES5</code> 語法</li>
</ul>
<p>初步了解了三種工具的概念後，接下來我們就開始我們的環境設置：</p>
<ol>
<li><p>若是電腦中尚未安裝 <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/zh-tw/Node.js">Node</a>（Node.js 是一個開放原始碼、跨平台的、可用於伺服器端和網路應用的 Google V8 引擎執行執行環境）和 NPM（Node 套件管理器 Node Package Manager。是一個以 JavaScript 編寫的軟體套件管理系統，預設環境為 Node.js，從 Node.js 0.6.3 版本開始，npm 被自動附帶在安裝包中）的話，請先 <a target="_blank" rel="noopener" href="https://nodejs.org/en/">上官網安裝</a></p>
</li>
<li><p>用 <code>npm</code> 安裝 <code>browserify</code></p>
</li>
<li><p>用 <code>npm</code> 安裝 <code>gulp</code>、<code>gulp-concat</code>、<code>gulp-html-replace</code>、<code>gulp-streamify</code>、<code>gulp-uglify</code>、<code>watchify</code>、<code>vinyl-source-stream</code> 開發環境用的套件（development dependencies）</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 使用 npm install --save-dev 會將安裝的套件名稱和版本存放到 package.json 的 devDependencies 欄位中</span><br><span class="line">$ npm install --save-dev gulp gulp-concat gulp-html-replace gulp-streamify gulp-uglify watchify vinyl-source-stream  </span><br></pre></td></tr></table></figure>
</li>
<li><p>安裝 <code>babelify</code>、<code>babel-preset-es2015</code>、<code>babel-preset-react</code>，轉譯 <code>ES6</code> 和 <code>JSX</code> 開發環境用的套件，並於根目錄底下設定 <code>.babelrc</code>，設定轉譯規則（presets：es2015、react）和使用的外掛</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 使用 npm install --save-dev 會將安裝的套件名稱和版本存放到 package.json 的 devDependencies 欄位中</span><br><span class="line">$ npm install --save-dev babelify babel-preset-es2015 babel-preset-react</span><br></pre></td></tr></table></figure>

 <figure class="highlight js"><figcaption><span>.babelrc</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="string">&quot;presets&quot;</span>: [</span><br><span class="line">	  <span class="string">&quot;es2015&quot;</span>,</span><br><span class="line">	  <span class="string">&quot;react&quot;</span>,</span><br><span class="line">	],</span><br><span class="line">	<span class="string">&quot;plugins&quot;</span>: []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>安裝 react 和 react-dom</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save react react-dom</span><br></pre></td></tr></table></figure>
</li>
<li><p>撰寫 Component</p>
 <figure class="highlight js"><figcaption><span>./app/index.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ReactDOM</span> <span class="keyword">from</span> <span class="string">&#x27;react-dom&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">App</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(props);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, World!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">App</span> /&gt;</span></span>, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;app&#x27;</span>));</span><br></pre></td></tr></table></figure>

 <figure class="highlight html"><figcaption><span>./index.html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Hello React!<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- build:js --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./dist/src/bundle.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- endbuild --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>設定 <code>gulpfile.js</code></p>
 <figure class="highlight js"><figcaption><span>gulpfile.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入所有需要的檔案</span></span><br><span class="line"><span class="keyword">const</span> gulp = <span class="built_in">require</span>(<span class="string">&#x27;gulp&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> uglify = <span class="built_in">require</span>(<span class="string">&#x27;gulp-uglify&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> htmlreplace = <span class="built_in">require</span>(<span class="string">&#x27;gulp-html-replace&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> source = <span class="built_in">require</span>(<span class="string">&#x27;vinyl-source-stream&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> browserify = <span class="built_in">require</span>(<span class="string">&#x27;browserify&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> watchify = <span class="built_in">require</span>(<span class="string">&#x27;watchify&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> babel = <span class="built_in">require</span>(<span class="string">&#x27;babelify&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> streamify = <span class="built_in">require</span>(<span class="string">&#x27;gulp-streamify&#x27;</span>);</span><br><span class="line"><span class="comment">// 檔案位置參數</span></span><br><span class="line"><span class="keyword">const</span> path = &#123;</span><br><span class="line">  <span class="attr">HTML</span>: <span class="string">&#x27;index.html&#x27;</span>,</span><br><span class="line">  <span class="attr">MINIFIED_OUT</span>: <span class="string">&#x27;bundle.min.js&#x27;</span>,</span><br><span class="line">  <span class="attr">OUT</span>: <span class="string">&#x27;bundle.js&#x27;</span>,</span><br><span class="line">  <span class="attr">DEST</span>: <span class="string">&#x27;dist&#x27;</span>,</span><br><span class="line">  <span class="attr">DEST_BUILD</span>: <span class="string">&#x27;dist/build&#x27;</span>,</span><br><span class="line">  <span class="attr">DEST_SRC</span>: <span class="string">&#x27;dist/src&#x27;</span>,</span><br><span class="line">  <span class="attr">ENTRY_POINT</span>: <span class="string">&#x27;./app/index.js&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 複製 html 到 dist 資料夾中</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;copy&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  gulp.<span class="title function_">src</span>(path.<span class="property">HTML</span>)</span><br><span class="line">    .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(path.<span class="property">DEST</span>));</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 監聽檔案是否有變化，若有變化則重新編譯一次</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;watch&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  gulp.<span class="title function_">watch</span>(path.<span class="property">HTML</span>, [<span class="string">&#x27;copy&#x27;</span>]);</span><br><span class="line"><span class="keyword">var</span> watcher  = <span class="title function_">watchify</span>(<span class="title function_">browserify</span>(&#123;</span><br><span class="line">    <span class="attr">entries</span>: [path.<span class="property">ENTRY_POINT</span>],</span><br><span class="line">    <span class="attr">transform</span>: [babel],</span><br><span class="line">    <span class="attr">debug</span>: <span class="literal">true</span>,</span><br><span class="line">  &#125;));</span><br><span class="line"><span class="keyword">return</span> watcher.<span class="title function_">on</span>(<span class="string">&#x27;update&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    watcher.<span class="title function_">bundle</span>()</span><br><span class="line">      .<span class="title function_">pipe</span>(<span class="title function_">source</span>(path.<span class="property">OUT</span>))</span><br><span class="line">      .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(path.<span class="property">DEST_SRC</span>))</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Updated&#x27;</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">    .<span class="title function_">bundle</span>()</span><br><span class="line">    .<span class="title function_">pipe</span>(<span class="title function_">source</span>(path.<span class="property">OUT</span>))</span><br><span class="line">    .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(path.<span class="property">DEST_SRC</span>));</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 執行 build production 的流程（包括 uglify、轉譯等）</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;copy&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="title function_">browserify</span>(&#123;</span><br><span class="line">    <span class="attr">entries</span>: [path.<span class="property">ENTRY_POINT</span>],</span><br><span class="line">    <span class="attr">transform</span>: [babel],</span><br><span class="line">  &#125;)</span><br><span class="line">    .<span class="title function_">bundle</span>()</span><br><span class="line">    .<span class="title function_">pipe</span>(<span class="title function_">source</span>(path.<span class="property">MINIFIED_OUT</span>))</span><br><span class="line">    .<span class="title function_">pipe</span>(<span class="title function_">streamify</span>(<span class="title function_">uglify</span>(path.<span class="property">MINIFIED_OUT</span>)))</span><br><span class="line">    .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(path.<span class="property">DEST_BUILD</span>));</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 將 script 引用換成 production 的檔案</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;replaceHTML&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  gulp.<span class="title function_">src</span>(path.<span class="property">HTML</span>)</span><br><span class="line">    .<span class="title function_">pipe</span>(<span class="title function_">htmlreplace</span>(&#123;</span><br><span class="line">      <span class="string">&#x27;js&#x27;</span>: <span class="string">&#x27;build/&#x27;</span> + path.<span class="property">MINIFIED_OUT</span></span><br><span class="line">    &#125;))</span><br><span class="line">    .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(path.<span class="property">DEST</span>));</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 設定 NODE_ENV 為 production</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;apply-prod-environment&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    process.<span class="property">env</span>.<span class="property">NODE_ENV</span> = <span class="string">&#x27;production&#x27;</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 若直接執行 gulp 會執行 gulp default 的任務：watch、copy。若跑 gulp production，則會執行 build、replaceHTML、apply-prod-environment</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;production&#x27;</span>, [<span class="string">&#x27;build&#x27;</span>, <span class="string">&#x27;replaceHTML&#x27;</span>, <span class="string">&#x27;apply-prod-environment&#x27;</span>]);</span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;default&#x27;</span>, [<span class="string">&#x27;watch&#x27;</span>, <span class="string">&#x27;copy&#x27;</span>]);</span><br></pre></td></tr></table></figure>
</li>
<li><p>成果展示<br> 到目前為止我們的資料夾的結構應該會是這樣：</p>
<p> <img src="/img/kdchang/browserify-folder-pregulp.png" alt="一看就懂的 React 開發環境建置與 Webpack 入門教學" title="一看就懂的 React 開發環境建置與 Webpack 入門教學"></p>
<p> 接下來我們透過在終端機（terminal）下 <code>gulp</code> 指令來處理我們設定好的任務：</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 當只有輸入 gulp 沒有輸入任務名稱時，gulp 會自動執行 default 的任務，我們這邊會執行 `watch` 和 `copy` 的任務，前者會監聽 `./app/index.js` 是否有改變，有的話則更新。後者則是會把 `index.html` 複製到 `./dist/index.html`</span><br><span class="line">$ gulp</span><br></pre></td></tr></table></figure>

<p> 當執行完 <code>gulp</code> 後，我們可以發現多了一個 <code>dist</code> 資料夾</p>
<p> <img src="/img/kdchang/browserify-folder-possgulp.png" alt="一看就懂的 React 開發環境建置與 Webpack 入門教學" title="一看就懂的 React 開發環境建置與 Webpack 入門教學"></p>
<p> 如果我們是要進行 <code>production</code> 的應用程式開發的話，我們可以執行： </p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 當輸入 gulp production 時，gulp 會執行 production 的任務，我們這邊會執行 `replaceHTML`、`build` 和 `apply-prod-environment` 的任務，`build` 任務會進行轉譯和 `uglify`。`replaceHTML` 會取代 `index.html` 註解中的 `&lt;script&gt;` 引入檔案，變成引入壓縮和 `uglify` 後的 `./dist/build/bundle.min.js`。`apply-prod-environment` 則是會更改 `NODE_ENV` 變數，讓環境設定改為 `production`，有興趣的讀者可以參考[React 官網說明](https://facebook.github.io/react/downloads.html)</span><br><span class="line">$ gulp production</span><br></pre></td></tr></table></figure>

<p> 此時我們可以在瀏覽器上打開我們的 <code>./dist/hello.html</code>，就可以看到 <code>Hello, world!</code> 了！</p>
</li>
</ol>
<h1 id="Webpack"><a href="#Webpack" class="headerlink" title="Webpack"></a>Webpack</h1><p><img src="/img/kdchang/webpack-module-bundler.png" alt="一看就懂的 React 開發環境建置與 Webpack 入門教學" title="一看就懂的 React 開發環境建置與 Webpack 入門教學"></p>
<p><a target="_blank" rel="noopener" href="https://webpack.github.io/">Webpack</a> 是一個模組打包工具（module bundler），以下列出 Webpack 的幾項主要功能：</p>
<ul>
<li>將 CSS、圖片與其他資源打包</li>
<li>打包之前預處理（Less、CoffeeScript、JSX、ES6 等）的檔案</li>
<li>依 entry 文件不同，把 .js 分拆為多個 .js 檔案</li>
<li>整合豐富的 loader 可以使用</li>
</ul>
<p>接下來我們一樣透過 Hello World 實例來介紹如何用 Webpack 設置 React 開發環境：</p>
<ol>
<li><p>安裝 Node 和 NPM</p>
</li>
<li><p>安裝 Webpack（可以 global 或 local project 安裝）、webpack loader、webpack-dev-server</p>
<p> Webpack 中的 loader 類似於 browserify 內的 transforms，但 Webpack 在使用上比較多元，除了 JavaScript loader 外也有 CSS Style 和圖片的 loader。此外，<code>webpack-dev-server</code> 則可以啟動開發用 server 方便使用</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save-dev babel-core babel-eslint babel-loader babel-preset-es2015 babel-preset-react html-webpack-plugin webpack webpack-dev-server</span><br></pre></td></tr></table></figure>
</li>
<li><p>設定 <code>webpack.config.js</code><br> 事實上，<code>webpack.config.js</code> 有點類似於前述的 <code>gulpfile.js</code> 功用，主要是設定 <code>webpack</code> 的相關設定</p>
 <figure class="highlight js"><figcaption><span>./webpack.config.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 這邊使用 HtmlWebpackPlugin，將 bundle 好得 &lt;script&gt; 插入到 body  </span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HTMLWebpackPluginConfig</span> = <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">  <span class="attr">template</span>: <span class="string">`<span class="subst">$&#123;__dirname&#125;</span>/app/index.html`</span>,</span><br><span class="line">  <span class="attr">filename</span>: <span class="string">&#x27;index.html&#x27;</span>,</span><br><span class="line">  <span class="attr">inject</span>: <span class="string">&#x27;body&#x27;</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 檔案起始點從 entry 進入，也可以是多個檔案。output 是放入產生出來的結果的相關參數。loaders 則是放欲使用的 loaders，在這邊是使用 babel-loader 將所有 .js（這邊用到正則式）相關檔案轉譯成瀏覽器可以閱讀的 JavaScript。devServer 則是 webpack-dev-server 設定。plugins 放置所使用的外掛</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: [</span><br><span class="line">    <span class="string">&#x27;./app/index.js&#x27;</span>,</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">`<span class="subst">$&#123;__dirname&#125;</span>/dist`</span>,</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;index_bundle.js&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">loaders</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.js$/</span>,</span><br><span class="line">        <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>,</span><br><span class="line">        <span class="attr">loader</span>: <span class="string">&#x27;babel-loader&#x27;</span>,</span><br><span class="line">        <span class="attr">query</span>: &#123;</span><br><span class="line">          <span class="attr">presets</span>: [<span class="string">&#x27;es2015&#x27;</span>, <span class="string">&#x27;react&#x27;</span>, <span class="string">&#x27;stage-0&#x27;</span>],</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">devServer</span>: &#123;</span><br><span class="line">    <span class="attr">inline</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">port</span>: <span class="number">8008</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [<span class="title class_">HTMLWebpackPluginConfig</span>],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>設定 <code>.babelrc</code></p>
 <figure class="highlight js"><figcaption><span>.babelrc</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;presets&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;es2015&quot;</span>,</span><br><span class="line">    <span class="string">&quot;react&quot;</span>,</span><br><span class="line">  ],</span><br><span class="line">  <span class="string">&quot;plugins&quot;</span>: []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>安裝 react 和 react-dom</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save react react-dom</span><br></pre></td></tr></table></figure>
</li>
<li><p>撰寫 Component</p>
 <figure class="highlight html"><figcaption><span>./app/index.html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>React Setup<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">href</span>=<span class="string">&quot;//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

 <figure class="highlight js"><figcaption><span>./app/index.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ReactDOM</span> <span class="keyword">from</span> <span class="string">&#x27;react-dom&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">App</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(props);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, World!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">App</span> /&gt;</span></span>, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;app&#x27;</span>));</span><br></pre></td></tr></table></figure>
</li>
<li><p>在終端機使用 <code>webpack</code>，成果展示</p>
</li>
</ol>
<ul>
<li>webpack：會在開發模式下開始一次性的建置</li>
<li>webpack -p：會建置 production 的程式碼 </li>
<li>webpack –watch：會監聽程式碼的修改，當儲存時有異動時會更新檔案</li>
<li>webpack -d：加入 source maps 檔案</li>
<li>webpack –progress –colors：加上處理進度與顏色</li>
</ul>
<p>如果不想每次都打一長串的指令碼的話可以使用 <code>package.json</code> 中的 <code>scripts</code> 設定</p>
<figure class="highlight js"><figcaption><span>.package.json</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">  <span class="string">&quot;dev&quot;</span>: <span class="string">&quot;webpack-dev-server --devtool eval --progress --colors --content-base build&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然後在終端機執行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm run dev</span><br></pre></td></tr></table></figure>

<p>當我們此時我們可以打開瀏覽器輸入 <code>http://localhost:8008</code> ，就可以看到 <code>Hello, world!</code> 了！</p>
<h1 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h1><p>以上就是 React 開發環境的三種主要方式：CDN-based、<a target="_blank" rel="noopener" href="https://webpack.github.io/">browserify</a> 和 <a target="_blank" rel="noopener" href="https://webpack.github.io/">webpack</a>。一般來說在開發大型應用程式，使用 React + Gulp + Browserify 或用 React 搭配 Webpack 都是合適的作法，主要是依據團隊開發的習慣和約定。不過，若你不想在環境設定上花太多時間的話，不妨參考 Facebook 開發社群推出的 <a target="_blank" rel="noopener" href="https://github.com/facebookincubator/create-react-app">create-react-app</a>，可以快速上手，使用 Webpack、<a target="_blank" rel="noopener" href="https://babeljs.io/">Babel</a>、<a target="_blank" rel="noopener" href="http://eslint.org/">ESLint</a> 開發 React 應用程式！</p>
<h1 id="延伸閱讀"><a href="#延伸閱讀" class="headerlink" title="延伸閱讀"></a>延伸閱讀</h1><ol>
<li><a target="_blank" rel="noopener" href="http://huangxuan.me/2015/07/09/js-module-7day/">JavaScript 模块化七日谈</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/seajs/seajs/issues/588">前端模块化开发那点历史</a></li>
<li><a target="_blank" rel="noopener" href="https://medium.freecodecamp.com/javascript-modules-a-beginner-s-guide-783f7d7a5fcc#.oa2n5s5zt">JavaScript Modules: A Beginner’s Guide</a></li>
<li><a target="_blank" rel="noopener" href="https://rhadow.github.io/2015/05/30/webpack-loaders-and-plugins/">深入了解 Webpack Plugins</a></li>
<li><a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2016/01/babel.html">Babel 入门教程</a></li>
<li><a target="_blank" rel="noopener" href="http://blog.kkbruce.net/2015/10/webpack.html#.V41hfpN96Ho">WEBPACK入門教學筆記</a></li>
<li><a target="_blank" rel="noopener" href="https://twilioinc.wpengine.com/2015/08/setting-up-react-for-es6-with-webpack-and-babel-2.html">Setting up React for ES6 with Webpack and Babel</a></li>
<li><a target="_blank" rel="noopener" href="https://medium.com/html-test/webpack-%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B-585f2bc952b9#.auq2o72rr">【webpack】的基本工作流程</a></li>
<li><a target="_blank" rel="noopener" href="http://hao.jser.com/archive/10507/">我的REACT开发之路1:REACT的环境搭建</a></li>
<li><a target="_blank" rel="noopener" href="http://www.ifeenan.com/javascript/2014-08-20-%E5%88%A9%E7%94%A8Browserify%E5%92%8CGulp%E6%9D%A5%E6%9E%84%E5%BB%BAReact%E5%BA%94%E7%94%A8/">利用browserify和gulp来构建react应用</a></li>
<li><a target="_blank" rel="noopener" href="https://www.gitbook.com/book/kejyuntw/gulp-learning-notes/details">gulp 學習筆記</a></li>
<li><a target="_blank" rel="noopener" href="https://www.reddit.com/r/reactjs/comments/30at04/webpack_vs_browserify_whats_best_for_react/">Webpack vs Browserify - what’s best for React?</a></li>
<li><a target="_blank" rel="noopener" href="https://medium.com/@housecor/browserify-vs-webpack-b3d7ca08a0a9#.jma7qyb2e">Browserify vs Webpack</a></li>
<li><a target="_blank" rel="noopener" href="https://medium.com/@srinisoundar/setting-up-environment-for-react-sass-es2015-babel-with-webpack-2f77445129#.7u0gtngil">Setting up environment for React, SASS, ES2015, Babel with Webpack</a></li>
<li><a target="_blank" rel="noopener" href="http://jpsierens.com/tutorial-gulp-javascript-2015-react/">Javascript Tutorial: How to set up Gulp for Developing ES2015 React v0.14+ Applications with Babelify &amp; Browserify</a></li>
<li><a target="_blank" rel="noopener" href="https://tylermcginnis.com/react-js-tutorial-pt-2-building-react-applications-with-gulp-and-browserify-5489228dde99#.1xb4ilepl">React.js Tutorial Pt 2: Building React Applications with Gulp and Browserify.</a></li>
<li><a target="_blank" rel="noopener" href="https://medium.com/@yamalight/building-modular-javascript-applications-in-es6-with-react-webpack-and-babel-538189cd485f#.bqq4rkjq9">Building modular javascript applications in ES6 with React, Webpack and Babel</a></li>
<li><a target="_blank" rel="noopener" href="http://dev.topheman.com/make-your-react-production-minified-version-with-webpack/">Make your own React production version with webpack</a></li>
<li><a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/32526281/how-to-set-react-to-production-mode-when-using-gulp">How to set React to production mode when using Gulp</a></li>
<li><a target="_blank" rel="noopener" href="http://zhaoda.net/2015/10/16/browserify-guide/">Browserify 使用指南</a></li>
<li><a target="_blank" rel="noopener" href="https://rhadow.github.io/2015/04/02/webpack-workflow/">使用 Webpack 建立 React 專案開發環境</a></li>
<li><a target="_blank" rel="noopener" href="https://rhadow.github.io/2015/03/23/webpackIntro/">如何使用 Webpack 模組整合工具</a></li>
<li><a target="_blank" rel="noopener" href="http://andyyou.logdown.com/posts/370326">參透 webpack</a></li>
<li><a target="_blank" rel="noopener" href="http://www.jianshu.com/p/941bfaf13be1">WEBPACK DEV SERVER</a></li>
<li><a target="_blank" rel="noopener" href="https://www.sitepoint.com/understanding-es6-modules/">Understanding ES6 Modules</a></li>
</ol>
<p>(image via <a target="_blank" rel="noopener" href="https://cdn-images-1.medium.com/max/477/1*qhI4E_g3TDOK0uu1VAJlCQ.png">srinisoundar</a>、<a target="_blank" rel="noopener" href="https://d2sis3lil8ndrq.cloudfront.net/screencasts/46e215cd-2eb3-4cf0-b699-713977a2b644.png">sitepoint</a>、<a target="_blank" rel="noopener" href="https://keyholesoftware.com/wp-content/uploads/Browserify-5.png">keyholesoftware</a>、<a target="_blank" rel="noopener" href="http://survivejs.com/webpack/images/webpack.png">survivejs</a>)</p>
<p>關於作者：<br><a target="_blank" rel="noopener" href="http://blog.kdchang.cc/">@kdchang</a> 文藝型開發者，夢想是做出人們想用的產品和辦一所心目中理想的學校，目前專注在 Mobile 和 IoT 應用開發。A Starter &amp; Maker. JavaScript, Python &amp; Arduino&#x2F;Android lover.:) </p>
  
      <div>喜歡我們的文章嗎？歡迎分享按讚給予我們支持和鼓勵！</div>
      <div class="fb-like" data-href="https://blog.techbridge.cc/2016/07/30/react-dev-enviroment-webpack-browserify/index.html" data-layout="button_count" data-action="like" data-size="large" data-show-faces="false" data-share="true"></div>
      <br>
      <br>
      <div class="fb-page" data-href="https://www.facebook.com/techbridge.cc" data-small-header="false" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true"><blockquote cite="https://www.facebook.com/techbridge.cc" class="fb-xfbml-parse-ignore"><a target="_blank" rel="noopener" href="https://www.facebook.com/techbridge.cc">TechBridge 技術日報</a></blockquote></div>
      <br>
    </section>
    <br>
    <hr>
    <div>
      <h4>訂閱 TechBridge Weekly 技術週刊，每週發送最精華的技術開發、產品設計的資訊給您</h4>
      <form class="form-control" method="post" action="https://goodbits.io/e/cab8a418-6b70-48d6-97ea-b5f0ef34b22c" target="_blank">
        <input class="form-control" type="text" name="first_name" placeholder="First Name"></input>
        <input class="form-control" type="text" name="last_name" placeholder="Last Name"></input>
        <div>
          <input class="form-control" type="text" name="email" placeholder="Email"></input>
        </div>
        <br>
        <div>
          <button class="form-control btn subscribe-btn" type="submit">馬上訂閱技術週刊</button>
        </div>
        <br>
        <label for="">PS. 我們討厭垃圾信，所以我們只提供有價值的內容給您 :)</label>
      </form>
    </div>
    <footer class="post-footer">
      <section class="author">
    <h4>TechBridge Weekly 技術週刊編輯團隊</h4>
    <p>TechBridge Weekly 技術週刊團隊是一群對用技術改變世界懷抱熱情的團隊。本技術共筆部落格初期專注於Web前後端、行動網路、機器人/物聯網、資料科學與產品設計等技術分享。This is TechBridge Weekly Team Tech Blog, which focus on web, mobile, robotics, IoT, Data Science technology sharing.</p>
    <span><a href="/2016/03/19/about/">關於我們</a></span> / <span><a href="https://www.techbridge.cc/" target="_blank">技術日報</a></span> / <span><a href="http://weekly.techbridge.cc/" target="_blank">技術週刊</a></span> / <span><a href="https://www.facebook.com/techbridge.cc/" target="_blank">粉絲專頁</a></span> / <span><a href="/atom.xml" target="_blank">訂閱RSS </a></span>   
	<div class="fb-like" data-href="https://www.facebook.com/techbridge.cc" data-layout="button_count" data-size="large" data-action="like" data-show-faces="false" data-share="true"></div>    
</section>
      <section class="share">
    <h4>Share this post</h4>
    <a class="icon-twitter" target="_blank" rel="noopener" href="http://twitter.com/share?url=https://blog.techbridge.cc/2016/07/30/react-dev-enviroment-webpack-browserify/"
       onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
        <span class="hidden">Twitter</span>
    </a>
    <a class="icon-facebook" target="_blank" rel="noopener" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.techbridge.cc/2016/07/30/react-dev-enviroment-webpack-browserify/"
       onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
        <span class="hidden">Facebook</span>
    </a>
    <a class="icon-google-plus" target="_blank" rel="noopener" href="https://plus.google.com/share?url=https://blog.techbridge.cc/2016/07/30/react-dev-enviroment-webpack-browserify/"
       onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
        <span class="hidden">Google+</span>
    </a>
    <iframe src="https://ghbtns.com/github-btn.html?user=TechBridgeHQ&repo=blog-starter-kit&type=star&count=true" frameborder="0" scrolling="0" width="170px" height="20px"></iframe>      
</section>
    </footer>
    <br>
  </article>
  <nav class="pagination" role="pagination">
    <h2>更多優質技術文章</h2>
    
    <a class="newer-posts" href="/2016/08/06/gazebo-robot-2d-map/">
        ← 使用 Gazebo 模擬器控制機器人建立 2D 地圖
    </a>
    
    <span class="page-number">•</span>
    
    <a class="older-posts" href="/2016/07/23/progressive-web-app/">
        Progressive Web App 會是未來趨勢嗎？ →
    </a>
    
</nav>
  <div id="comment" class="comments-area">
    <h1 class="title"><a href="#disqus_comments" name="disqus_comments">留言討論</a></h1>

    
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
    
</div>
</main>


  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-75308642-1', 'auto');
  ga('send', 'pageview');

</script>
<footer class="site-footer">
  
  <a class="subscribe icon-feed" href="/atom.xml"><span class="tooltip">Subscribe!</span></a>
  
  <div class="inner">
     <section class="copyright">All content copyright <a href="/">TechBridge 技術共筆部落格</a> &copy; 2017 &bull; All rights reserved.</section>
  </div>
</footer>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<script type="text/javascript" src="/js/jquery.fitvids.js"></script>
<script type="text/javascript" src="/js/index.js"></script>


<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', '[object Object]']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>


<script type="text/javascript">
    var disqus_shortname = 'techbridgeweekly';

    (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.4/dist/medium-zoom.min.js"></script>
<script>
// NodeList
mediumZoom(document.querySelectorAll('img'));
</script>
  <div id="fb-root"></div>
	<script>(function(d, s, id) {
	  var js, fjs = d.getElementsByTagName(s)[0];
	  if (d.getElementById(id)) return;
	  js = d.createElement(s); js.id = id;
	  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5";
	  fjs.parentNode.insertBefore(js, fjs);
	}(document, 'script', 'facebook-jssdk'));</script>
</body>
</html>
